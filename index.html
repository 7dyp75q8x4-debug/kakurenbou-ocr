<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UI 完全版</title>

<style>
body {
    margin: 0;
    display: flex;
    height: 100vh;
    box-sizing: border-box;
    font-family: sans-serif;
}

/* 左側：5×4 グリッド */
#grid-left {
    flex: 1;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(5, 1fr);
    gap: 4px;
    padding: 4px;
}

.cell {
    background: #eee;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    border-radius: 4px;
}

/* 右側：カメラ＋ログ＋4ボタン */
#right-side {
    width: 38%;
    display: flex;
    flex-direction: column;
    padding: 4px;
    gap: 4px;
}

/* カメラエリア */
#camera-container {
    flex: 1;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
}
#camera-view {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* ログエリア */
#log-box {
    height: 100px;
    background: #fff;
    border: 1px solid #aaa;
    overflow-y: auto;
    padding: 4px;
    font-size: 14px;
    white-space: pre-wrap;
}

/* 下の4ボタン */
#button-box {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 60px);
    gap: 4px;
}

.big-btn {
    border: 1px solid #aaa;
    background: #fff;
    border-radius: 4px;
    font-size: 20px;
}
</style>
</head>

<body>

<!-- 左側グリッド -->
<div id="grid-left">
    <div class="cell">1a</div><div class="cell">1b</div><div class="cell">1c</div><div class="cell">1d</div>
    <div class="cell">2a</div><div class="cell">2b</div><div class="cell">2c</div><div class="cell">2d</div>
    <div class="cell">3a</div><div class="cell">3b</div><div class="cell">3c</div><div class="cell">3d</div>
    <div class="cell">4a</div><div class="cell">4b</div><div class="cell">4c</div><div class="cell">4d</div>
    <div class="cell">5a</div><div class="cell">5b</div><div class="cell">5c</div><div class="cell">5d</div>
</div>

<!-- 右側 -->
<div id="right-side">

    <!-- カメラ -->
    <div id="camera-container">
        <video id="camera-view" autoplay playsinline></video>
    </div>

    <!-- ログ枠 -->
    <div id="log-box"></div>

    <!-- 4ボタン -->
    <div id="button-box">
        <button class="big-btn" id="btn1">お題</button>
        <button class="big-btn" id="btn2">探索</button>
        <button class="big-btn" id="btn3">撮影(長押し)</button>
        <button class="big-btn" id="btn4">リセット</button>
    </div>

</div>

<script>
// カメラ起動
async function initCamera() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: { facingMode: "environment" }, audio: false
        });
        document.getElementById("camera-view").srcObject = stream;
    } catch (err) {
        console.error("Camera error:", err);
        document.getElementById("log-box").textContent += "カメラ起動に失敗\n";
    }
}
initCamera();

// ログ追加
function log(msg) {
    const box = document.getElementById("log-box");
    box.textContent += msg + "\n";
    box.scrollTop = box.scrollHeight;
}

// ボタン動作
document.getElementById("btn1").onclick = () => log("お題：タップ");
document.getElementById("btn2").onclick = () => log("探索：タップ");
document.getElementById("btn3").onclick = () => log("撮影：タップ");
document.getElementById("btn4").onclick = () => log("リセット：タップ");
</script>

</body>
</html>
