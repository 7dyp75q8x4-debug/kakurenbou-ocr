<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>UI A案（固定レイアウト）</title>
<style>
    body {
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: row;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        box-sizing: border-box;
        font-family: sans-serif;
    }

    /* 左ペイン：5×4 スロット */
    #leftPane {
        width: 48vw;
        height: 100vh;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(5, 1fr);
        gap: 3px;
        padding: 5px;
        box-sizing: border-box;
    }

    .slot {
        background: #eee;
        border: 1px solid #aaa;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 12px;
    }

    /* 右ペイン */
    #rightPane {
        width: 52vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        padding: 5px;
        box-sizing: border-box;
    }

    /* カメラ（16:9） */
    #cameraWrapper {
        width: 100%;
        aspect-ratio: 16 / 9;
        overflow: hidden;
        background: #000;
        border: 1px solid #444;
        margin-bottom: 6px;
    }
    #cameraFeed {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* ログ */
    #logBox {
        width: 100%;
        height: 18vh;
        border: 1px solid #ccc;
        background: #fafafa;
        font-size: 11px;
        padding: 4px;
        overflow-y: auto;
        margin-bottom: 6px;
    }

    /* ボタンエリア：正方形 2×2 */
    #buttons {
        width: 100%;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 6px;
    }

    .btnSquare {
        aspect-ratio: 1 / 1;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid #666;
        background: white;
        font-size: 12px;
        font-weight: bold;
        cursor: pointer;
        user-select: none;
    }

    /* モードボタン色 */
    .mode-active-red {
        background: #ff8a8a !important;
        border-color: red !important;
    }
    .mode-active-green {
        background: #9cff9c !important;
        border-color: green !important;
    }
</style>
</head>
<body>

<!-- 左スロット -->
<div id="leftPane">
    <!-- 5×4 = 20 slots -->
    <div class="slot">1a</div><div class="slot">1b</div><div class="slot">1c</div><div class="slot">1d</div>
    <div class="slot">2a</div><div class="slot">2b</div><div class="slot">2c</div><div class="slot">2d</div>
    <div class="slot">3a</div><div class="slot">3b</div><div class="slot">3c</div><div class="slot">3d</div>
    <div class="slot">4a</div><div class="slot">4b</div><div class="slot">4c</div><div class="slot">4d</div>
    <div class="slot">5a</div><div class="slot">5b</div><div class="slot">5c</div><div class="slot">5d</div>
</div>

<!-- 右 UI -->
<div id="rightPane">

    <!-- カメラ -->
    <div id="cameraWrapper">
        <video id="cameraFeed" autoplay playsinline></video>
    </div>

    <!-- ログ -->
    <div id="logBox"></div>

    <!-- ボタン群 -->
    <div id="buttons">
        <div id="btnModeA" class="btnSquare">お題</div>
        <div id="btnModeB" class="btnSquare">探索</div>
        <div id="btnShot" class="btnSquare">撮影(長押し)</div>
        <div id="btnReset" class="btnSquare">リセット</div>
    </div>

</div>

<script>
/* --------------------------
   カメラ起動（基本機能のみ）
--------------------------- */
async function startCamera() {
    const video = document.getElementById("cameraFeed");
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = stream;
    } catch (e) {
        console.log("カメラエラー:", e);
    }
}
startCamera();

/* --------------------------
   モード切り替え色変更
--------------------------- */
const btnA = document.getElementById("btnModeA");
const btnB = document.getElementById("btnModeB");

function setModeA() {
    btnA.classList.add("mode-active-red");
    btnB.classList.remove("mode-active-green");
}
function setModeB() {
    btnB.classList.add("mode-active-green");
    btnA.classList.remove("mode-active-red");
}

btnA.onclick = setModeA;
btnB.onclick = setModeB;

// 初期値はお題モード
setModeA();
</script>

</body>
</html>
