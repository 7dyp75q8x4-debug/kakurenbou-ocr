<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>Number Search Tool</title>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: white;
    }

    /* 横画面前提 */
    .container {
        display: flex;
        width: 100vw;
        height: 100vh;
        flex-direction: row;
        background: white;
    }

    /* 左側：白背景（読み取り結果を置く場所） */
    .left-panel {
        width: 65vw;
        height: 100vh;
        background: white;
        border-right: 2px solid #e5e5e5;
    }

    /* 右側 */
    .right-panel {
        width: 35vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        background: white;
    }

    /* カメラ表示領域（16:9） */
    .camera-wrapper {
        width: 90%;
        aspect-ratio: 16 / 9;
        margin-top: 20px;
        background: #000;
        border-radius: 8px;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    video {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* ボタン（画像） */
    .button-area {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }

    .btn-img {
        width: 120px;
        height: auto;
    }
</style>
</head>

<body>

<div class="container">

    <!-- 左側：真っ白 -->
    <div class="left-panel"></div>

    <!-- 右側：カメラ＋ボタン -->
    <div class="right-panel">

        <!-- カメラ領域 -->
        <div class="camera-wrapper">
            <video id="camera" autoplay playsinline></video>
        </div>

        <!-- ボタンたち（今は ON ボタンのみ） -->
        <div class="button-area">
            <img src="on_button.png" class="btn-img" id="btnShoot" />
        </div>

    </div>
</div>

<script>
/* カメラ起動（横画面でも必ず表示されるように修正済み） */
async function startCamera() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: {
                facingMode: "environment",
                width: { ideal: 1920 },
                height: { ideal: 1080 }
            },
            audio: false
        });

        const video = document.getElementById("camera");
        video.srcObject = stream;

    } catch (error) {
        console.error("カメラを起動できません:", error);
    }
}

startCamera();
</script>

</body>
</html>
